\chapter{Installing the \nutils}
\label{app:installing}

\section{From source}

I have tested the \nutils{} on various distributions of Linux, as well as on
Mac OS X and Cygwin\footnote{I use Linux as a main development platform.
Although I try my best to get the package to compile on Macs and Cygwin, I don't
always succeed.}. On Linux, chances are you already have development tools
preinstalled, but some distributions (\eg, Ubuntu) do not install \textsc{gcc},
etc. by default. Check that you have \textsc{gcc}, Bison, Flex, and the
\textsc{gnu} autotools, including Libtool. The same goes for Cygwin. On MacOS X,
you need to install XCode (\url{http://developer.apple.com/tools/xcode}).

\noindent{}If \libxml{} is present on your system, the \nutils{} can use it to
produce better \svg{} graphics. This is the default behaviour, but it is
optional: if the library is not present (or not found), or if you specify not to
use it (see below), the build process will work all the same, and most programs
will not be affected in any way (currently this only affects ornaments to
radial \svg{} trees).  Likewise, the system will build \sched{} unless Guile is
not found or you explicitly disable it (see below).

Note that you need \emph{both} the library \emph{and} the headers for \libxml{}
or Guile to work.

\noindent{}Here are the versions I use (as reported by passing \texttt{--version} to the program):

\medskip
\begin{tabular}{lll}
Autoconf					& autoconf (GNU Autoconf) & 2.67 \\
Automake					& automake (GNU automake) & 1.11.1 \\
Bison  						& bison (GNU Bison) 			& 2.4.1 \\ 
Flex							& flex 										& 2.5.35 \\
Guile	(optional)	& guile										& 1.8.7 \\
GCC 							& gcc (GCC) 							& 4.4.5 \\
Libtool						& ltmain.sh (GNU libtool) & 2.2.6b \\
\libxml{} (optional)	& xml2-config							& 2.7.7 \\ 
Make							& GNU Make 								& 3.81
\end{tabular}
\medskip

\noindent{}The package uses the \textsc{gnu} autotools, like many other open source software packages. So all you need to do is the usual
\begin{verbatim}
$ tar xzf newick-utils-x.y.z.tar.gz
$ cd newick-utils-x.y.z
$ ./configure
$ make
$ make check
# make install
\end{verbatim}
The \texttt{make check} is optional, but you should try it anyway. Note that
the \gen{} test may fail - this is due to differences in pseudo-random number
generators, as far as I can tell.

\noindent{}To prevent the use of \libxml, pass \texttt{--without-libxml} to
\texttt{./configure}. Likewise, to prevent the use of Guile, pass
\texttt{--without-guile}. 

If your Guile or \libxml{} libraries are in a non-standard location, set the
\texttt{LDFLAGS} environment variable before running \texttt{./configure}. If
your headers are in a non-standard location, set \texttt{CPPFLAGS}. For example,

\texttt{LDFLAGS='-L/opt/lib' CPPFLAGS='-I/opt/include' ./configure}

would cause \texttt{/opt/lib} and \texttt{/opt/include} to be searched for
libraries and headers, respectively.

\section{As binaries}

Since version 1.1, there are also binary distribution for some platforms. The
name of the archive matches \texttt{newick-utils-<version>-<platform>.tar.gz}.
All you need to do is:

\begin{verbatim}
$ tar xzf newick-utils-<vesion>-<platform>.tar.gz
$ cd newick-utils-<version>-<platform>
\end{verbatim}

\noindent{}The binaries are in \texttt{src}. Testing may be less important than
when installing from source, but you can do it like this:

\begin{verbatim}
$ cd tests
$ for test in test*.sh; do ./$test; done 
\end{verbatim}

\noindent{}any failure will generate a \texttt{FAIL} message (which you could filter with \texttt{grep}, etc).  You can then copy/move the binaries wherever it suits you.

